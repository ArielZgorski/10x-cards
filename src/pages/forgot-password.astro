---
import Layout from '../layouts/Layout.astro';
import { AuthProvider } from '../components/auth/AuthProvider';
import { ForgotPasswordForm } from '../components/forms/ForgotPasswordForm';
---

<Layout title="Resetowanie hasÅ‚a - 10x Cards">
  <div class="forgot-password-page">
    <div class="forgot-password-container">
      <div class="forgot-password-card">
        <AuthProvider client:only="react">
          <ForgotPasswordForm client:only="react" />
        </AuthProvider>
      </div>
    </div>
  </div>
</Layout>

<!-- Import form styles -->
<link rel="stylesheet" href="/src/components/forms/form-styles.css">

<script>
  // Check if already logged in and redirect
  document.addEventListener('DOMContentLoaded', () => {
    const token = localStorage.getItem('supabase_token');
    if (token) {
      window.location.href = '/ai/generations';
    }
  });
</script>

<style>
  .forgot-password-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }
  
  .forgot-password-container {
    width: 100%;
    max-width: 450px;
  }
  
  .forgot-password-card {
    background: white;
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  /* Mobile responsive */
  @media (max-width: 640px) {
    .forgot-password-page {
      padding: 1rem 0.75rem;
    }
    
    .forgot-password-card {
      padding: 1.5rem;
    }
  }
</style>
